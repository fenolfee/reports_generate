<?php
$tasks = [
    ["Разработка интерфейса пользователя", 60],
    ["Настройка базы данных", 45],
    ["Оптимизация производительности веб-приложения", 30],
    ["Рефакторинг бэкенд-кода", 60],
    ["Интеграция сторонних API", 90],
    ["Создание мобильного приложения", 120],
    ["Добавление многоязычной поддержки", 45],
    ["Подключение системы аналитики", 30],
    ["Развертывание на сервере с использованием Docker", 60],
    ["Тестирование безопасности приложения", 90],
    // Дополнительные задачи
    ["Написание документации", 45],
    ["Настройка CI/CD", 60],
    ["Интеграция платежных систем", 90],
    ["Разработка административной панели", 60],
    ["Анализ использования ресурсов сервера", 30],
    ["Улучшение SEO-параметров", 45],
    ["Определение требований к новому функционалу", 30],
    ["Разработка адаптивного дизайна", 60],
    ["Тестирование на различных браузерах и устройствах", 90],
    ["Отладка и исправление найденных ошибок", 45],
    ["Интеграция системы уведомлений", 30],
    ["Определение процессов бизнеса для автоматизации", 60],
    ["Создание отчетов о производительности приложения", 90],
    ["Управление версиями кода с использованием Git", 45],
    ["Резервное копирование базы данных", 30],
    ["Разработка макетов UI/UX", 60],
    ["Оптимизация запросов к базе данных", 90],
    ["Использование шаблонизаторов для фронтэнда", 45],
    ["Доработка функционала аутентификации и авторизации", 30],
    ["Интеграция системы кэширования", 60],
    ["Разработка микросервисов для масштабируемости", 90],
    ["Обучение новых сотрудников в работе с приложением", 45],
    ["Использование контейнеризации для локальной среды разработки", 30],
    ["Подготовка презентации проекта для инвесторов", 60],
    ["Интеграция системы аутентификации через соцсети", 90],
    ["Создание технической спецификации нового функционала", 45],
    ["Разработка мониторинга производительности приложения", 30],
    ["Определение требований к хранению данных", 60],
    ["Реализация алгоритмов шифрования данных", 90],
    ["Обновление сторонних библиотек до последних версий", 45],
    ["Разработка алгоритмов машинного обучения для улучшения функционала", 30],
    ["Интеграция системы логирования с мониторингом ошибок", 60],
    ["Написание технических статей на тему программирования", 90],
    ["Проведение технических собеседований с кандидатами на позицию разработчика", 45],
    ["Настройка сертификата безопасности HTTPS для приложения", 30],
    ["Оптимизация работы базы данных при больших объемах данных", 60],
    ["Разработка системы автоматического тестирования приложения", 90]
];

function generateTime($hours, $minutes) {
    return str_pad($hours, 2, "0", STR_PAD_LEFT) . ":" . str_pad($minutes, 2, "0", STR_PAD_LEFT);
}

shuffle($tasks);

echo "<table border='1'>";
echo "<tr><th>Дата</th><th>Время</th><th>Описание работ</th></tr>";

$date = date("Y-m-d", strtotime("-1 month", strtotime("first day of today")));

while ($date <= date("Y-m-d", strtotime("first day of today"))) {
    $hours = 9;
    $minutes = 0;
    
    foreach ($tasks as $task) {
        $taskName = $task[0];
        $duration = $task[1];

        if ($hours >= 17) break; // Прекращаем добавление задач после 17:00

        echo "<tr>";
        echo "<td>{$date}</td>";
        echo "<td>" . generateTime($hours, $minutes) . " - ";

        $nextHours = $hours + floor(($minutes + $duration) / 60);
        $nextMinutes = ($minutes + $duration) % 60;

        if ($nextHours >= 12 && $nextHours < 13) {
            $nextHours = 13;
            $nextMinutes = 0;
        }

        if ($nextHours >= 17) {
            $nextHours = 17;
            $nextMinutes = 0;
        }

        echo generateTime($nextHours, $nextMinutes) . "</td>";
        echo "<td>{$taskName}</td>";
        echo "</tr>";

        $hours = $nextHours;
        $minutes = $nextMinutes;
    }

    $date = date("Y-m-d", strtotime("+1 day", strtotime($date)));
}

echo "</table>";

?>
